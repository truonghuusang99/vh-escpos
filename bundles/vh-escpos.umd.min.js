!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("vh-escpos",["exports","@angular/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["vh-escpos"]={},t.ng.core)}(this,(function(t,e){"use strict";function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var r=i(e);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function T(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,T,n=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(t){T={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(T)throw T.error}}return o}Object.create;var n,o,s,_,u,h,f,a,E,l,O,c,A,L,R=function(){function t(t){void 0===t&&(t=1024),this.buffer=new Uint8Array(t),this.size=0}return t.prototype.clear=function(){this.size=0},t.prototype.flush=function(){var t=new Uint8Array(this.buffer.slice(0,this.size));return this.size=0,t},t.prototype.write=function(t){return this.resize(t.length),this.buffer.set(t,this.size),this.size+=t.length,this},t.prototype.writeUInt8=function(t){return this.resize(1),this.buffer[this.size++]=255&t,this},t.prototype.writeUInt32LE=function(t,e){return this.resize(4),this.buffer[this.size++]=255&t,this.buffer[this.size++]=t>>8&255,this.buffer[this.size++]=t>>16&255,this.buffer[this.size++]=t>>24&255,this},t.prototype.writeUInt16LE=function(t,e){return this.resize(2),this.buffer[this.size++]=255&t,this.buffer[this.size++]=t>>8&255,this},t.prototype.resize=function(t){var e=this.buffer.length-this.size;if(e<t){var i=this.buffer,r=Math.ceil((t-e)/i.length)+1;this.buffer=new Uint8Array(i.length*r),this.buffer.set(i,0)}},t}(),d={LF:"\n",FS:"",FF:"\f",GS:"",DLE:"",EOT:"",NUL:"\0",ESC:"",TAB:"t",EOL:"\n"};d.FEED_CONTROL_SEQUENCES={CTL_LF:"\n",CTL_GLF:"J\0",CTL_FF:"\f",CTL_CR:"\r",CTL_HT:"\t",CTL_VT:"\v"},d.CHARACTER_SPACING={CS_DEFAULT:" \0",CS_SET:" "},d.LINE_SPACING={LS_DEFAULT:"2",LS_SET:"3"},d.HARDWARE={HW_INIT:"@",HW_SELECT:"=",HW_RESET:"?\n\0"},d.CASH_DRAWER={CD_KICK_2:"p\0Ãº",CD_KICK_5:"pÃº"},d.MARGINS={BOTTOM:"O",LEFT:"l",RIGHT:"Q"},d.PAPER={PAPER_FULL_CUT:"V\0",PAPER_PART_CUT:"V",PAPER_CUT_A:"VA",PAPER_CUT_B:"VB"},d.TEXT_FORMAT={TXT_NORMAL:"!\0",TXT_2HEIGHT:"!",TXT_2WIDTH:"! ",TXT_4SQUARE:"!0",TXT_CUSTOM_SIZE:function(t,e){var i=16*(t-1)+(e-1);return"!"+String.fromCharCode(i)},TXT_HEIGHT:{1:"\0",2:"",3:"",4:"",5:"",6:"",7:"",8:""},TXT_WIDTH:{1:"\0",2:"",3:" ",4:"0",5:"@",6:"P",7:"`",8:"p"},TXT_UNDERL_OFF:"-\0",TXT_UNDERL_ON:"-",TXT_UNDERL2_ON:"-",TXT_BOLD_OFF:"E\0",TXT_BOLD_ON:"E",TXT_ITALIC_OFF:"5",TXT_ITALIC_ON:"4",TXT_FONT_A:"M\0",TXT_FONT_B:"M",TXT_FONT_C:"M",TXT_ALIGN_LT:"a\0",TXT_ALIGN_CT:"a",TXT_ALIGN_RT:"a"},d.MODEL={QSPRINTER:{BARCODE_MODE:{ON:"EC",OFF:"EC\0"},BARCODE_HEIGHT_DEFAULT:"hÂ¢",CODE2D_FORMAT:{PIXEL_SIZE:{CMD:"##QPIX",MIN:1,MAX:24,DEFAULT:12},VERSION:{CMD:"(k\x001C",MIN:1,MAX:16,DEFAULT:3},LEVEL:{CMD:"(k\x001E",OPTIONS:{L:48,M:49,Q:50,H:51}},LEN_OFFSET:3,SAVEBUF:{CMD_P1:"(k",CMD_P2:"1P0"},PRINTBUF:{CMD_P1:"(k",CMD_P2:"1Q0"}}}},d.CODE2D_FORMAT={TYPE_PDF417:d.GS+"Z\0",TYPE_DATAMATRIX:d.GS+"Z",TYPE_QR:d.GS+"Z",CODE2D:d.ESC+"Z",QR_LEVEL_L:"L",QR_LEVEL_M:"M",QR_LEVEL_Q:"Q",QR_LEVEL_H:"H"},d.IMAGE_FORMAT={S_RASTER_N:"v0\0",S_RASTER_2W:"v0",S_RASTER_2H:"v0",S_RASTER_Q:"v0"},d.BITMAP_FORMAT={BITMAP_S8:"*\0",BITMAP_D8:"*",BITMAP_S24:"* ",BITMAP_D24:"*!"},d.GSV0_FORMAT={GSV0_NORMAL:"v0\0",GSV0_DW:"v0",GSV0_DH:"v0",GSV0_DWDH:"v0"},d.BEEP="B",d.COLOR={0:"r\0",1:"r",REVERSE:"B1",UNREVERSE:"B0"},d.SCREEN={BS:"\b",HT:"\t",LF:"\n",US_LF:"\n",HOM:"\v",CR:"\r",US_CR:"\r",US_B:"B",US_$:"$",CLR:"\f",CAN:"",US_MD1:"",US_MD2:"",US_MD3:"",US_C:"C",US_E:"E",US_T:"T",US_U:"U",US_X:"X",US_r:"r",US_v:"v"},function(t){t[t.NoUnderline=0]="NoUnderline",t[t.Single=1]="Single",t[t.Double=2]="Double"}(n||(n={})),function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(o||(o={})),function(t){t[t.Pin2=0]="Pin2",t[t.Pin5=1]="Pin5"}(s||(s={})),function(t){t[t.A=0]="A",t[t.B=1]="B",t[t.C=2]="C"}(_||(_={})),function(t){t[t.UPCA=0]="UPCA",t[t.UPCE=1]="UPCE",t[t.EAN13=2]="EAN13",t[t.EAN8=3]="EAN8",t[t.CODE39=4]="CODE39",t[t.ITF=5]="ITF",t[t.CODABAR=6]="CODABAR",t[t.CODE93=7]="CODE93",t[t.CODE128=8]="CODE128",t[t.UCC=9]="UCC",t[t.RSS14=10]="RSS14",t[t.RSS14Truncated=11]="RSS14Truncated",t[t.RSSLimited=12]="RSSLimited",t[t.RSSExpanded=13]="RSSExpanded"}(u||(u={})),function(t){t[t.NotPrinted=0]="NotPrinted",t[t.Above=1]="Above",t[t.Below=2]="Below",t[t.Both=3]="Both"}(h||(h={})),function(t){t[t.Color1=0]="Color1",t[t.Color2=1]="Color2"}(f||(f={})),function(t){t[t.Normal=0]="Normal",t[t.DualHeight=16]="DualHeight",t[t.DualWidth=32]="DualWidth",t[t.DualWidthAndHeight=48]="DualWidthAndHeight"}(a||(a={})),function(t){t[t.Normal=0]="Normal",t[t.DualWidth=1]="DualWidth",t[t.DualHeight=2]="DualHeight",t[t.DualWidthAndHeight=3]="DualWidthAndHeight"}(E||(E={})),function(t){t[t.Single8Dot=0]="Single8Dot",t[t.Double8Dot=1]="Double8Dot",t[t.Single24Dot=32]="Single24Dot",t[t.Double24Dot=33]="Double24Dot"}(l||(l={})),function(t){t[t.PC437=0]="PC437",t[t.Katakana=1]="Katakana",t[t.PC850=2]="PC850",t[t.PC860=3]="PC860",t[t.PC863=4]="PC863",t[t.PC865=5]="PC865",t[t.WPC1252=16]="WPC1252",t[t.PC866=17]="PC866",t[t.PC852=18]="PC852",t[t.PC858=19]="PC858",t[t.Thai42=20]="Thai42",t[t.Thai11=21]="Thai11",t[t.Thai13=22]="Thai13",t[t.Thai14=23]="Thai14",t[t.Thai16=24]="Thai16",t[t.Thai17=25]="Thai17",t[t.Thai18=26]="Thai18"}(O||(O={})),function(t){t[t.L=48]="L",t[t.M=49]="M",t[t.Q=50]="Q",t[t.H=51]="H"}(c||(c={})),function(t){t[t.Level1=48]="Level1",t[t.Level2=49]="Level2",t[t.Level3=50]="Level3",t[t.Level4=51]="Level4",t[t.Level5=52]="Level5",t[t.Level6=53]="Level6",t[t.Level7=54]="Level7",t[t.Level8=55]="Level8"}(A||(A={})),function(t){t[t.Standard=0]="Standard",t[t.Truncated=1]="Truncated"}(L||(L={}));var C=function(t){var e="";switch(t.toUpperCase()){case"B":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL_OFF;break;case"I":e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL_OFF;break;case"U":e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL_ON;break;case"U2":e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL2_ON;break;case"BI":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL_OFF;break;case"BIU":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL_ON;break;case"BIU2":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL2_ON;break;case"BU":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL_ON;break;case"BU2":e+=d.TEXT_FORMAT.TXT_BOLD_ON,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL2_ON;break;case"IU":e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL_ON;break;case"IU2":e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_ON,e+=d.TEXT_FORMAT.TXT_UNDERL2_ON;break;case"NORMAL":default:e+=d.TEXT_FORMAT.TXT_BOLD_OFF,e+=d.TEXT_FORMAT.TXT_ITALIC_OFF,e+=d.TEXT_FORMAT.TXT_UNDERL_OFF}return e},F=27,p=function(){function t(){this.encoder=new TextEncoder,this.size=48}return t.prototype.init=function(){return this.buffer=new R,this.write(F),this.write("@"),this},t.prototype.flush=function(){return this.buffer.flush()},t.prototype.feed=function(t){return void 0===t&&(t=1),this.write(F),this.write("d"),this.write(t),this},t.prototype.cut=function(t){return void 0===t&&(t="full"),this.write(29),this.write("V"),this.write("full"===t?1:0),this},t.prototype.writeLine=function(t){return this.write(t+"\n")},t.prototype.drawLine=function(){for(var t="",e=0;e<this.size;e++)t+="-";return this.write(t+"\n")},t.prototype.setPageSize=function(t){return this.size=t,this},t.prototype.writeTable=function(t){for(var e=this.size/t.length,i="",r=0;r<t.length;r++){i+=t[r].toString();for(var T=e-t[r].toString().length,n=0;n<T;n++)i+=" "}return this.write(i+"\n")},t.prototype.writeCustomTable=function(t,e){(e=e||{size:[]}).size=e.size||[];for(var i=T(e.size||[],2),r=i[0],n=void 0===r?1:r,o=i[1],s=void 0===o?1:o,_=Math.floor(this.size/n),u=Math.floor(_/t.length),h=_-u*t.length,f="",a=!1,E=[],l=0;l<t.length;l++){var O=t[l],c=(O.align||"").toUpperCase(),A=!1;O.text=O.text.toString();var L=O.text.length;if(O.width?u=_*O.width:O.cols&&(u=O.cols),u<L&&(A=!0,O.originalText=O.text,O.text=O.text.substring(0,u)),"CENTER"===c){for(var R=(u-L)/2,F=0;F<R;F++)f+=" ";""!==O.text&&(O.style?f+=C(O.style)+O.text+C("NORMAL"):f+=O.text);for(F=0;F<R-1;F++)f+=" "}else if("RIGHT"===c){R=u-L;h>0&&(R+=h,h=0);for(F=0;F<R;F++)f+=" ";""!==O.text&&(O.style?f+=C(O.style)+O.text+C("NORMAL"):f+=O.text)}else{""!==O.text&&(O.style?f+=C(O.style)+O.text+C("NORMAL"):f+=O.text);R=Math.floor(u-L);h>0&&(R+=h,h=0);for(F=0;F<R;F++)f+=" "}A?(a=!0,O.text=O.originalText.substring(u),E.push(O)):(O.text="",E.push(O))}return n>1&&(f=d.TEXT_FORMAT.TXT_CUSTOM_SIZE(n,s)+f+d.TEXT_FORMAT.TXT_NORMAL),this.write(f+"\n"),a?this.writeCustomTable(E,e):(e.feed&&this.feed(e.feed),e.drawLine&&this.drawLine(),this)},t.prototype.setInverse=function(t){return void 0===t&&(t=!0),this.write(29),this.write("B"),this.write(t?1:0),this},t.prototype.setUnderline=function(t){return void 0===t&&(t=!0),this.write(F),this.write("-"),this.write(t?1:0),this},t.prototype.setJustification=function(t){var e;switch(void 0===t&&(t="left"),t){case"center":e=1;break;case"right":e=2;break;default:e=0}return this.write(F),this.write("a"),this.write(e),this},t.prototype.setBold=function(t){return void 0===t&&(t=!0),this.write(F),this.write("E"),this.write(t?1:0),this},t.prototype.raster=function(t,e){void 0===e&&(e=E.Normal);var i=new Uint8Array([29,118,48,e]),r=t.toRaster();return this.write(i),this.write(r.width,16),this.write(r.height,16),this.write(r.data),this},t.prototype.setSize=function(t){return void 0===t&&(t="normal"),this.write(F),this.write("!"),this.write("normal"===t?0:48),this},t.prototype.write=function(t,e){return void 0===e&&(e=8),"number"==typeof t?(8==e&&this.buffer.writeUInt8(t),16==e&&this.buffer.writeUInt16LE(t),32==e&&this.buffer.writeUInt32LE(t)):"string"==typeof t?this.buffer.write(this.encoder.encode(t)):this.buffer.write(t),this},t}(),D=function(){function t(){}return t.prototype.init=function(){return this.builder=new p,this.builder.init(),this},t.prototype.cut=function(t){return void 0===t&&(t="full"),this.builder.cut(t),this},t.prototype.feed=function(t){return void 0===t&&(t=1),this.builder.feed(t),this},t.prototype.setInverse=function(t){return void 0===t&&(t=!0),this.builder.setInverse(t),this},t.prototype.setBold=function(t){return void 0===t&&(t=!0),this.builder.setBold(t),this},t.prototype.setUnderline=function(t){return void 0===t&&(t=!0),this.builder.setUnderline(t),this},t.prototype.setJustification=function(t){return void 0===t&&(t="left"),this.builder.setJustification(t),this},t.prototype.setSize=function(t){return void 0===t&&(t="normal"),this.builder.setSize(t),this},t.prototype.writeLine=function(t){return void 0===t&&(t=""),this.builder.writeLine(t),this},t.prototype.drawLine=function(){return this.builder.drawLine(),this},t.prototype.writeTable=function(t){return this.builder.writeTable(t),this},t.prototype.setPageSize=function(t){return void 0===t&&(t=48),this.builder.setPageSize(t),this},t.prototype.writeCustomTable=function(t,e){return void 0===e&&(e={}),this.builder.writeCustomTable(t,e),this},t.prototype.image=function(t){return this.builder.raster(t),this},t.prototype.flush=function(){return this.builder.flush()},t}();D.Éµprov=r.ÉµÉµdefineInjectable({factory:function(){return new D},token:D,providedIn:"root"}),D.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],D.ctorParameters=function(){return[]},t.VhEscposService=D,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=vh-escpos.umd.min.js.map