{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/vh-escpos/src/lib/encode/PrintBuffer.ts","../../../projects/vh-escpos/src/lib/encode/commands.ts","../../../projects/vh-escpos/src/lib/encode/styles.ts","../../../projects/vh-escpos/src/lib/encode/EscBuilder.ts","../../../projects/vh-escpos/src/lib/vh-escpos.service.ts","../../../projects/vh-escpos/src/lib/encode/Image.ts"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","Object","create","__read","o","m","r","i","ar","error","Underline","Justification","DrawerPin","Font","Barcode","Position","Color","TextMode","RasterMode","Density","CodeTable","QRErrorCorrectLevel","PDF417ErrorCorrectLevel","PDF417Type","PrintBuffer","size","buffer","Uint8Array","prototype","clear","flush","slice","write","data","resize","set","writeUInt8","writeUInt32LE","noAssert","writeUInt16LE","need","remaining","oldBuffer","factor","Math","ceil","LF","FS","FF","GS","DLE","EOT","NUL","ESC","TAB","EOL","FEED_CONTROL_SEQUENCES","CTL_LF","CTL_GLF","CTL_FF","CTL_CR","CTL_HT","CTL_VT","CHARACTER_SPACING","CS_DEFAULT","CS_SET","LINE_SPACING","LS_DEFAULT","LS_SET","HARDWARE","HW_INIT","HW_SELECT","HW_RESET","CASH_DRAWER","CD_KICK_2","CD_KICK_5","MARGINS","BOTTOM","LEFT","RIGHT","PAPER","PAPER_FULL_CUT","PAPER_PART_CUT","PAPER_CUT_A","PAPER_CUT_B","TEXT_FORMAT","TXT_NORMAL","TXT_2HEIGHT","TXT_2WIDTH","TXT_4SQUARE","TXT_CUSTOM_SIZE","width","height","sizeDec","String","fromCharCode","TXT_HEIGHT","1","2","3","4","5","6","7","8","TXT_WIDTH","TXT_UNDERL_OFF","TXT_UNDERL_ON","TXT_UNDERL2_ON","TXT_BOLD_OFF","TXT_BOLD_ON","TXT_ITALIC_OFF","TXT_ITALIC_ON","TXT_FONT_A","TXT_FONT_B","TXT_FONT_C","TXT_ALIGN_LT","TXT_ALIGN_CT","TXT_ALIGN_RT","MODEL","QSPRINTER","BARCODE_MODE","ON","OFF","BARCODE_HEIGHT_DEFAULT","CODE2D_FORMAT","PIXEL_SIZE","CMD","MIN","MAX","DEFAULT","VERSION","LEVEL","OPTIONS","L","M","Q","H","LEN_OFFSET","SAVEBUF","CMD_P1","CMD_P2","PRINTBUF","TYPE_PDF417","TYPE_DATAMATRIX","TYPE_QR","CODE2D","QR_LEVEL_L","QR_LEVEL_M","QR_LEVEL_Q","QR_LEVEL_H","IMAGE_FORMAT","S_RASTER_N","S_RASTER_2W","S_RASTER_2H","S_RASTER_Q","BITMAP_FORMAT","BITMAP_S8","BITMAP_D8","BITMAP_S24","BITMAP_D24","GSV0_FORMAT","GSV0_NORMAL","GSV0_DW","GSV0_DH","GSV0_DWDH","BEEP","COLOR","0","REVERSE","UNREVERSE","SCREEN","BS","HT","US_LF","HOM","CR","US_CR","US_B","US_$","CLR","CAN","US_MD1","US_MD2","US_MD3","US_C","US_E","US_T","US_U","US_X","US_r","US_v","styles","type","styled","toUpperCase","EscBuilder","encoder","TextEncoder","init","feed","lineCount","cut","cutType","writeLine","drawLine","lineText","setPageSize","writeTable","cellWidth","lineTxt","toString","spaces","j","writeCustomTable","options","_a","_b","_c","baseWidth","floor","leftoverSpace","lineStr","secondLineEnabled","secondLine","obj","align","tooLong","text","textLength","cols","originalText","substring","s","style","setInverse","inverse","setUnderline","setJustification","alignment","setBold","bold","raster","image","mode","Normal","header","toRaster","setSize","number","encode","VhEscposService","builder","Injectable","args","providedIn","Image","pixels","load","dom","toPixelData","quality","backgroundColor","pixel","Array","scrollWidth","scrollHeight","x","idx"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","// Hat-tip to Håvard Lian @ https://github.com/haavardlian/escpos\nexport class PrintBuffer {\n    private buffer: Uint8Array;\n    private size: number;\n\n    constructor(size: number = 1024) {\n        this.buffer = new Uint8Array(size);\n        this.size = 0;\n    }\n\n    clear(): void {\n        this.size = 0;\n    }\n\n    flush(): Uint8Array {\n        const buffer = new Uint8Array(this.buffer.slice(0, this.size));\n        this.size = 0;\n        return buffer;\n    }\n\n    write(data: ArrayLike<number>): PrintBuffer {\n        this.resize(data.length);\n        this.buffer.set(data, this.size);\n        this.size += data.length;\n        return this;\n    }\n\n\n    writeUInt8(value: number): PrintBuffer {\n        this.resize(1);\n        this.buffer[this.size++] = value & 0xFF;\n        return this;\n    }\n\n    public writeUInt32LE(value: number, noAssert?: boolean): PrintBuffer {\n        this.resize(4);\n        // tslint:disable no-bitwise\n        this.buffer[this.size++] = (value) & 0xFF;\n        this.buffer[this.size++] = (value >> 8) & 0xFF;\n        this.buffer[this.size++] = (value >> 16) & 0xFF;\n        this.buffer[this.size++] = (value >> 24) & 0xFF;\n        // tslint:enable no-bitwise\n        return this;\n    }\n\n    public writeUInt16LE(value: number, noAssert?: boolean): PrintBuffer {\n        this.resize(2);\n        // tslint:disable no-bitwise\n        this.buffer[this.size++] = (value) & 0xFF;\n        this.buffer[this.size++] = (value >> 8) & 0xFF;\n        // tslint:enable no-bitwise\n        return this;\n    }\n\n\n    private resize(need: number): void {\n        const remaining = this.buffer.length - this.size;\n        if (remaining < need) {\n            const oldBuffer = this.buffer;\n            const factor = Math.ceil((need - remaining) / oldBuffer.length) + 1;\n            this.buffer = new Uint8Array(oldBuffer.length * factor);\n            this.buffer.set(oldBuffer, 0);\n        }\n    }\n}","/**\n * Utility function that converts numbers into hex values\n *\n * @usage:\n *   numToHex(256) => '0100'\n *   numToHex(0) => '00'\n */\nlet numToHexString = function(value: any) {\n  value = +value;\n  if (!isNaN(value)) {\n    value = value.toString(16);\n    while (value.length % 2 !== 0) {\n      value = '0' + value;\n    }\n  }\n  return value;\n};\n\n/**\n * ESC/POS _ (Constants)\n */\nlet _: any = {\n  LF: '\\x0a',\n  FS: '\\x1c',\n  FF: '\\x0c',\n  GS: '\\x1d',\n  DLE: '\\x10',\n  EOT: '\\x04',\n  NUL: '\\x00',\n  ESC: '\\x1b',\n  TAB: '\\x74',\n  EOL: '\\n'\n};\n\n/**\n * [FEED_CONTROL_SEQUENCES Feed control sequences]\n * @type {Object}\n */\n_.FEED_CONTROL_SEQUENCES = {\n  CTL_LF: '\\x0a', // Print and line feed\n  CTL_GLF: '\\x4a\\x00', // Print and feed paper (without spaces between lines)\n  CTL_FF: '\\x0c', // Form feed\n  CTL_CR: '\\x0d', // Carriage return\n  CTL_HT: '\\x09', // Horizontal tab\n  CTL_VT: '\\x0b' // Vertical tab\n};\n\n_.CHARACTER_SPACING = {\n  CS_DEFAULT: '\\x1b\\x20\\x00',\n  CS_SET: '\\x1b\\x20'\n};\n\n_.LINE_SPACING = {\n  LS_DEFAULT: '\\x1b\\x32',\n  LS_SET: '\\x1b\\x33'\n};\n\n/**\n * [HARDWARE Printer hardware]\n * @type {Object}\n */\n_.HARDWARE = {\n  HW_INIT: '\\x1b\\x40', // Clear data in buffer and reset modes\n  HW_SELECT: '\\x1b\\x3d\\x01', // Printer select\n  HW_RESET: '\\x1b\\x3f\\x0a\\x00' // Reset printer hardware\n};\n\n/**\n * [CASH_DRAWER Cash Drawer]\n * @type {Object}\n */\n_.CASH_DRAWER = {\n  CD_KICK_2: '\\x1b\\x70\\x00\\x19\\xfa', // Sends a pulse to pin 2 []\n  CD_KICK_5: '\\x1b\\x70\\x01\\x19\\xfa' // Sends a pulse to pin 5 []\n};\n\n/**\n * [MARGINS Margins sizes]\n * @type {Object}\n */\n_.MARGINS = {\n  BOTTOM: '\\x1b\\x4f', // Fix bottom size\n  LEFT: '\\x1b\\x6c', // Fix left size\n  RIGHT: '\\x1b\\x51' // Fix right size\n};\n\n/**\n * [PAPER Paper]\n * @type {Object}\n */\n_.PAPER = {\n  PAPER_FULL_CUT: '\\x1d\\x56\\x00', // Full cut paper\n  PAPER_PART_CUT: '\\x1d\\x56\\x01', // Partial cut paper\n  PAPER_CUT_A: '\\x1d\\x56\\x41', // Partial cut paper\n  PAPER_CUT_B: '\\x1d\\x56\\x42' // Partial cut paper\n};\n\n/**\n * [TEXT_FORMAT Text format]\n * @type {Object}\n */\n_.TEXT_FORMAT = {\n  TXT_NORMAL: '\\x1b\\x21\\x00', // Normal text\n  TXT_2HEIGHT: '\\x1b\\x21\\x10', // Double height text\n  TXT_2WIDTH: '\\x1b\\x21\\x20', // Double width text\n  TXT_4SQUARE: '\\x1b\\x21\\x30', // Double width & height text\n\n  TXT_CUSTOM_SIZE: function(width: any, height: any) {\n    // other sizes\n    let widthDec = (width - 1) * 16;\n    let heightDec = height - 1;\n    let sizeDec = widthDec + heightDec;\n    return '\\x1d\\x21' + String.fromCharCode(sizeDec);\n  },\n\n  TXT_HEIGHT: {\n    1: '\\x00',\n    2: '\\x01',\n    3: '\\x02',\n    4: '\\x03',\n    5: '\\x04',\n    6: '\\x05',\n    7: '\\x06',\n    8: '\\x07'\n  },\n  TXT_WIDTH: {\n    1: '\\x00',\n    2: '\\x10',\n    3: '\\x20',\n    4: '\\x30',\n    5: '\\x40',\n    6: '\\x50',\n    7: '\\x60',\n    8: '\\x70'\n  },\n\n  TXT_UNDERL_OFF: '\\x1b\\x2d\\x00', // Underline font OFF\n  TXT_UNDERL_ON: '\\x1b\\x2d\\x01', // Underline font 1-dot ON\n  TXT_UNDERL2_ON: '\\x1b\\x2d\\x02', // Underline font 2-dot ON\n  TXT_BOLD_OFF: '\\x1b\\x45\\x00', // Bold font OFF\n  TXT_BOLD_ON: '\\x1b\\x45\\x01', // Bold font ON\n  TXT_ITALIC_OFF: '\\x1b\\x35', // Italic font ON\n  TXT_ITALIC_ON: '\\x1b\\x34', // Italic font ON\n\n  TXT_FONT_A: '\\x1b\\x4d\\x00', // Font type A\n  TXT_FONT_B: '\\x1b\\x4d\\x01', // Font type B\n  TXT_FONT_C: '\\x1b\\x4d\\x02', // Font type C\n\n  TXT_ALIGN_LT: '\\x1b\\x61\\x00', // Left justification\n  TXT_ALIGN_CT: '\\x1b\\x61\\x01', // Centering\n  TXT_ALIGN_RT: '\\x1b\\x61\\x02' // Right justification\n};\n\n/**\n * Qsprinter-compatible\n * Added by Attawit Kittikrairit\n * [MODEL Model-specific commands]\n * @type {Object}\n */\n_.MODEL = {\n  QSPRINTER: {\n    BARCODE_MODE: {\n      ON: '\\x1d\\x45\\x43\\x01', // Barcode mode on\n      OFF: '\\x1d\\x45\\x43\\x00' // Barcode mode off\n    },\n    BARCODE_HEIGHT_DEFAULT: '\\x1d\\x68\\xA2', // Barcode height default:162\n    CODE2D_FORMAT: {\n      PIXEL_SIZE: {\n        CMD: '\\x1b\\x23\\x23\\x51\\x50\\x49\\x58',\n        MIN: 1,\n        MAX: 24,\n        DEFAULT: 12\n      },\n      VERSION: {\n        CMD: '\\x1d\\x28\\x6b\\x03\\x00\\x31\\x43',\n        MIN: 1,\n        MAX: 16,\n        DEFAULT: 3\n      },\n      LEVEL: {\n        CMD: '\\x1d\\x28\\x6b\\x03\\x00\\x31\\x45',\n        OPTIONS: {\n          L: 48,\n          M: 49,\n          Q: 50,\n          H: 51\n        }\n      },\n      LEN_OFFSET: 3,\n      SAVEBUF: {\n        // Format: CMD_P1{LEN_2BYTE}CMD_P2{DATA}\n        // DATA Max Length: 256*256 - 3 (65533)\n        CMD_P1: '\\x1d\\x28\\x6b',\n        CMD_P2: '\\x31\\x50\\x30'\n      },\n      PRINTBUF: {\n        // Format: CMD_P1{LEN_2BYTE}CMD_P2\n        CMD_P1: '\\x1d\\x28\\x6b',\n        CMD_P2: '\\x31\\x51\\x30'\n      }\n    }\n  }\n};\n/**\n * [CODE2D_FORMAT description]\n * @type {Object}\n */\n_.CODE2D_FORMAT = {\n  TYPE_PDF417: _.GS + 'Z' + '\\x00',\n  TYPE_DATAMATRIX: _.GS + 'Z' + '\\x01',\n  TYPE_QR: _.GS + 'Z' + '\\x02',\n  CODE2D: _.ESC + 'Z',\n  QR_LEVEL_L: 'L', // correct level 7%\n  QR_LEVEL_M: 'M', // correct level 15%\n  QR_LEVEL_Q: 'Q', // correct level 25%\n  QR_LEVEL_H: 'H' // correct level 30%\n};\n\n/**\n * [IMAGE_FORMAT Image format]\n * @type {Object}\n */\n_.IMAGE_FORMAT = {\n  S_RASTER_N: '\\x1d\\x76\\x30\\x00', // Set raster image normal size\n  S_RASTER_2W: '\\x1d\\x76\\x30\\x01', // Set raster image double width\n  S_RASTER_2H: '\\x1d\\x76\\x30\\x02', // Set raster image double height\n  S_RASTER_Q: '\\x1d\\x76\\x30\\x03' // Set raster image quadruple\n};\n\n/**\n * [BITMAP_FORMAT description]\n * @type {Object}\n */\n_.BITMAP_FORMAT = {\n  BITMAP_S8: '\\x1b\\x2a\\x00',\n  BITMAP_D8: '\\x1b\\x2a\\x01',\n  BITMAP_S24: '\\x1b\\x2a\\x20',\n  BITMAP_D24: '\\x1b\\x2a\\x21'\n};\n\n/**\n * [GSV0_FORMAT description]\n * @type {Object}\n */\n_.GSV0_FORMAT = {\n  GSV0_NORMAL: '\\x1d\\x76\\x30\\x00',\n  GSV0_DW: '\\x1d\\x76\\x30\\x01',\n  GSV0_DH: '\\x1d\\x76\\x30\\x02',\n  GSV0_DWDH: '\\x1d\\x76\\x30\\x03'\n};\n\n/**\n * [BEEP description]\n * @type {string}\n */\n(_.BEEP = '\\x1b\\x42'), // Printer Buzzer pre hex\n  /**\n   * [COLOR description]\n   * @type {Object}\n   */\n  (_.COLOR = {\n    0: '\\x1b\\x72\\x00', // black\n    1: '\\x1b\\x72\\x01', // red\n    REVERSE: '\\x1dB1', // Reverses the colors - white text on black background\n    UNREVERSE: '\\x1dB0' // Default: undo the reverse - black text on white background\n  });\n\n/**\n * [SCREEN description]\n * @type {Object}\n */\n_.SCREEN = {\n  BS: '\\x08', // Moves the cursor one character position to the left\n  HT: '\\x09', // Moves the cursor one character position to the right\n  LF: '\\x0a', // Moves the cursor down one line\n  US_LF: '\\x1f\\x0a', // Moves the cursor up one line\n  HOM: '\\x0b', // Moves the cursor to the left-most position on the upper line (home position)\n  CR: '\\x0d', // Moves the cursor to the left-most position on the current line\n  US_CR: '\\x1f\\x0d', // Moves the cursor to the right-most position on the current line\n  US_B: '\\x1f\\x42', // Moves the cursor to the bottom position\n  US_$: '\\x1f\\x24', // Moves the cursor to the nth position on the mth line\n  CLR: '\\x0c', // Clears all displayed characters\n  CAN: '\\x18', // Clears the line containing the cursor\n  US_MD1: '\\x1f\\x01', // Selects overwrite mode as the screen display mode\n  US_MD2: '\\x1f\\x02', // Selects vertical scroll mode as the screen display mode\n  US_MD3: '\\x1f\\x03', // Selects horizontal scroll mode as the display screen mode\n  US_C: '\\x1f\\x43', // Turn cursor display mode on/off\n  US_E: '\\x1f\\x45', // Sets or cancels the blink interval of the display screen\n  US_T: '\\x1f\\x54', // Sets the counter time and displays it in the bottom right of the screen\n  US_U: '\\x1f\\x55', // Displays the time counter at the right side of the bottom line\n  US_X: '\\x1f\\x58', // Sets the brightness of the fluorescent character display tube\n  US_r: '\\x1f\\x72', // Selects or cancels reverse display of the characters received after this command\n  US_v: '\\x1f\\x76' // Sets the DTR signal in the host interface to the MARK or SPACE state\n};\n\nexport enum Underline {\n  NoUnderline = 0,\n  Single,\n  Double\n}\n\nexport enum Justification {\n  Left = 0,\n  Center,\n  Right\n}\n\nexport enum DrawerPin {\n  Pin2 = 0,\n  Pin5\n}\n\nexport enum Font {\n  A = 0,\n  B,\n  C\n}\n\nexport enum Barcode {\n  UPCA = 0,\n  UPCE,\n  EAN13,\n  EAN8,\n  CODE39,\n  ITF,\n  CODABAR,\n  CODE93,\n  CODE128,\n  UCC,\n  RSS14,\n  RSS14Truncated,\n  RSSLimited,\n  RSSExpanded\n}\n\nexport enum Position {\n  NotPrinted = 0,\n  Above,\n  Below,\n  Both\n}\n\nexport enum Color {\n  Color1 = 0,\n  Color2\n}\n\nexport enum TextMode {\n  Normal = 0,\n  DualHeight = 0x10,\n  DualWidth = 0x20,\n  DualWidthAndHeight = 0x30\n}\n\nexport enum RasterMode {\n  Normal = 0,\n  DualWidth,\n  DualHeight,\n  DualWidthAndHeight\n}\n\nexport enum Density {\n  Single8Dot = 0x00,\n  Double8Dot = 0x01,\n  Single24Dot = 0x20,\n  Double24Dot = 0x21\n}\n\nexport enum CodeTable {\n  PC437 = 0,\n  Katakana,\n  PC850,\n  PC860,\n  PC863,\n  PC865,\n  WPC1252 = 16,\n  PC866,\n  PC852,\n  PC858,\n  Thai42,\n  Thai11,\n  Thai13,\n  Thai14,\n  Thai16,\n  Thai17,\n  Thai18\n}\n\nexport enum QRErrorCorrectLevel {\n  L = 48,\n  M,\n  Q,\n  H\n}\n\nexport enum PDF417ErrorCorrectLevel {\n  Level1 = 48,\n  Level2,\n  Level3,\n  Level4,\n  Level5,\n  Level6,\n  Level7,\n  Level8\n}\n\nexport enum PDF417Type {\n  Standard = 0,\n  Truncated\n}\n\n/**\n * [exports description]\n * @type {[type]}\n */\nexport default _;\n","import _ from './commands';\nexport const styles = (type: any) => {\n\tlet styled: string = '';\n\tswitch (type.toUpperCase()) {\n\t\tcase 'B':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_OFF;\n\t\t\tbreak;\n\t\tcase 'I':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_OFF;\n\t\t\tbreak;\n\t\tcase 'U':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_ON;\n\t\t\tbreak;\n\t\tcase 'U2':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL2_ON;\n\t\t\tbreak;\n\n\t\tcase 'BI':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_OFF;\n\t\t\tbreak;\n\t\tcase 'BIU':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_ON;\n\t\t\tbreak;\n\t\tcase 'BIU2':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL2_ON;\n\t\t\tbreak;\n\t\tcase 'BU':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_ON;\n\t\t\tbreak;\n\t\tcase 'BU2':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL2_ON;\n\t\t\tbreak;\n\t\tcase 'IU':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_ON;\n\t\t\tbreak;\n\t\tcase 'IU2':\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_ON;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL2_ON;\n\t\t\tbreak;\n\n\t\tcase 'NORMAL':\n\t\tdefault:\n\t\t\tstyled += _.TEXT_FORMAT.TXT_BOLD_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_ITALIC_OFF;\n\t\t\tstyled += _.TEXT_FORMAT.TXT_UNDERL_OFF;\n\t\t\tbreak;\n\t}\n\treturn styled;\n};\n","// import { PrintBuilder } from './PrintBuilder';\nimport { PrintBuffer } from './PrintBuffer';\nimport _, { PDF417Type, RasterMode } from './commands';\nimport { Image } from \"./Image\";\nimport { styles } from './styles';\n\ndeclare var TextEncoder: any;\nconst ESC = 0x1b;\nconst GS = 0x1d;\n\nexport class EscBuilder {\n    private encoder = new TextEncoder();\n    private buffer: PrintBuffer;\n    private size: number;\n    constructor() {\n        this.size = 48;\n    }\n\n    init(): EscBuilder {\n        this.buffer = new PrintBuffer();\n        this.write(ESC);\n        this.write('@');\n        return this;\n    }\n\n    flush(): Uint8Array {\n        return this.buffer.flush();\n    }\n\n    feed(lineCount: number = 1): EscBuilder {\n        this.write(ESC);\n        this.write('d');\n        this.write(lineCount);\n        return this;\n    }\n\n    cut(cutType: string = 'full'): EscBuilder {\n        this.write(GS);\n        this.write('V');\n        this.write(cutType === 'full' ? 1 : 0);\n\n        return this;\n    }\n\n    writeLine(value: string): EscBuilder {\n        return this.write(`${value}\\n`);\n    }\n\n    drawLine(): EscBuilder {\n        let lineText = '';\n        for (let i = 0; i < this.size; i++) {\n            lineText += '-';\n        }\n        return this.write(`${lineText}\\n`);\n    }\n\n    setPageSize(size: number): EscBuilder {\n        this.size = size;\n        return this;\n    }\n\n    writeTable(data: any): EscBuilder {\n        let cellWidth = this.size / data.length;\n        let lineTxt = '';\n\n        for (let i = 0; i < data.length; i++) {\n            lineTxt += data[i].toString();\n\n            let spaces = cellWidth - data[i].toString().length;\n            for (let j = 0; j < spaces; j++) {\n                lineTxt += ' ';\n            }\n        }\n        return this.write(`${lineTxt}\\n`);\n    }\n\n    writeCustomTable(data: any, options: any): EscBuilder {\n        options = options || { size: [] };\n        options.size = options.size || [];\n        let [width = 1, height = 1] = options.size || [];\n        let baseWidth = Math.floor(this.size / width);\n        let cellWidth = Math.floor(baseWidth / data.length);\n        let leftoverSpace = baseWidth - cellWidth * data.length;\n        let lineStr = '';\n        let secondLineEnabled = false;\n        let secondLine = [];\n\n        for (let i = 0; i < data.length; i++) {\n            let obj = data[i];\n            let align = (obj.align || '').toUpperCase();\n            let tooLong = false;\n\n            obj.text = obj.text.toString();\n            let textLength = obj.text.length;\n\n            if (obj.width) {\n                cellWidth = baseWidth * obj.width;\n            } else if (obj.cols) {\n                cellWidth = obj.cols;\n            }\n\n            if (cellWidth < textLength) {\n                tooLong = true;\n                obj.originalText = obj.text;\n                obj.text = obj.text.substring(0, cellWidth);\n            }\n\n            if (align === 'CENTER') {\n                let spaces = (cellWidth - textLength) / 2;\n                for (let s = 0; s < spaces; s++) {\n                    lineStr += ' ';\n                }\n\n                if (obj.text !== '') {\n                    if (obj.style) {\n                        lineStr +=\n                            styles(obj.style) + obj.text + styles('NORMAL');\n                    } else {\n                        lineStr += obj.text;\n                    }\n                }\n\n                for (let s = 0; s < spaces - 1; s++) {\n                    lineStr += ' ';\n                }\n            } else if (align === 'RIGHT') {\n                let spaces = cellWidth - textLength;\n                if (leftoverSpace > 0) {\n                    spaces += leftoverSpace;\n                    leftoverSpace = 0;\n                }\n\n                for (let s = 0; s < spaces; s++) {\n                    lineStr += ' ';\n                }\n\n                if (obj.text !== '') {\n                    if (obj.style) {\n                        lineStr +=\n                            styles(obj.style) + obj.text + styles('NORMAL');\n                    } else {\n                        lineStr += obj.text;\n                    }\n                }\n            } else {\n                if (obj.text !== '') {\n                    if (obj.style) {\n                        lineStr +=\n                            styles(obj.style) + obj.text + styles('NORMAL');\n                    } else {\n                        lineStr += obj.text;\n                    }\n                }\n\n                let spaces = Math.floor(cellWidth - textLength);\n                if (leftoverSpace > 0) {\n                    spaces += leftoverSpace;\n                    leftoverSpace = 0;\n                }\n\n                for (let s = 0; s < spaces; s++) {\n                    lineStr += ' ';\n                }\n            }\n\n            if (tooLong) {\n                secondLineEnabled = true;\n                obj.text = obj.originalText.substring(cellWidth);\n                secondLine.push(obj);\n            } else {\n                obj.text = '';\n                secondLine.push(obj);\n            }\n        }\n\n        // Set size to line\n        if (width > 1) {\n            lineStr =\n                _.TEXT_FORMAT.TXT_CUSTOM_SIZE(width, height) +\n                lineStr +\n                _.TEXT_FORMAT.TXT_NORMAL;\n        }\n\n        // Write the line\n        this.write(`${lineStr}\\n`);\n        if (secondLineEnabled) {\n            // Writes second line if has\n            return this.writeCustomTable(secondLine, options);\n        } else {\n            if (options.feed) {\n                this.feed(options.feed);\n            }\n            if (options.drawLine) {\n                this.drawLine();\n            }\n            return this;\n        }\n    }\n\n    setInverse(inverse: boolean = true): EscBuilder {\n        this.write(GS);\n        this.write('B');\n        this.write(inverse ? 1 : 0);\n\n        return this;\n    }\n\n    setUnderline(value: boolean = true): EscBuilder {\n        this.write(ESC);\n        this.write('-');\n        this.write(value ? 1 : 0);\n        return this;\n    }\n\n    setJustification(value: string = 'left'): EscBuilder {\n        let alignment;\n        switch (value) {\n            case 'center':\n                alignment = 1;\n                break;\n            case 'right':\n                alignment = 2;\n                break;\n            default:\n                alignment = 0;\n                break;\n        }\n        this.write(ESC);\n        this.write('a');\n        this.write(alignment);\n\n        return this;\n    }\n\n    setBold(bold: boolean = true): EscBuilder {\n        this.write(ESC);\n        this.write('E');\n        this.write(bold ? 1 : 0);\n\n        return this;\n    }\n\n    raster(image: Image, mode: RasterMode = RasterMode.Normal): EscBuilder {\n        const header = new Uint8Array([GS, 0x76, 0x30, mode]);\n        const raster = image.toRaster();\n        this.write(header);\n        this.write(raster.width, 16);\n        this.write(raster.height, 16);\n        this.write(raster.data);\n        return this;\n    }\n\n\n    /**\n    @param mode 0, 0x30\n    */\n    setSize(size: string = 'normal'): EscBuilder {\n        this.write(ESC);\n        this.write('!');\n        this.write(size === 'normal' ? 0 : 0x30);\n\n        return this;\n    }\n\n    private write(value: string | Uint8Array | number, number: number = 8): any {\n        if (typeof value === 'number') {\n            if (number == 8) this.buffer.writeUInt8(value);\n            if (number == 16) this.buffer.writeUInt16LE(value);\n            if (number == 32) this.buffer.writeUInt32LE(value);\n        } else if (typeof value === 'string') {\n            this.buffer.write(this.encoder.encode(value));\n        } else {\n            this.buffer.write(value);\n        }\n        return this;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { EscBuilder } from './encode/EscBuilder';\nimport { Image } from './encode/Image'\n@Injectable({\n  providedIn: 'root'\n})\nexport class VhEscposService {\n\n  constructor() { }\n  public builder: EscBuilder;\n\n  /**\n   * Initialize a new print queue\n   */\n  init(): VhEscposService {\n    this.builder = new EscBuilder();\n    this.builder.init();\n    return this;\n  }\n\n  /**\n   *\n   * @param cutType full|partial\n   */\n  public cut(cutType: string = 'full'): VhEscposService {\n    this.builder.cut(cutType);\n    return this;\n  }\n\n  /**\n   *\n   * @param lineCount How many lines to feed\n   */\n  public feed(lineCount: number = 1): VhEscposService {\n    this.builder.feed(lineCount);\n    return this;\n  }\n\n  setInverse(value: boolean = true): VhEscposService {\n    this.builder.setInverse(value);\n    return this;\n  }\n\n  setBold(value: boolean = true): VhEscposService {\n    this.builder.setBold(value);\n    return this;\n  }\n\n  setUnderline(value: boolean = true): VhEscposService {\n    this.builder.setUnderline(value);\n    return this;\n  }\n\n  /**\n   *\n   * @param value left|center\\right\n   */\n  setJustification(value: string = 'left'): VhEscposService {\n    this.builder.setJustification(value);\n    return this;\n  }\n\n  /**\n   *\n   * @param value normal|large\n   */\n  setSize(value: string = 'normal'): VhEscposService {\n    this.builder.setSize(value);\n    return this;\n  }\n\n  /**\n   *\n   * @param text\n   */\n  writeLine(text: string = ''): VhEscposService {\n    this.builder.writeLine(text);\n    return this;\n  }\n\n  /**\n   *\n   *\n   */\n  drawLine(): VhEscposService {\n    this.builder.drawLine();\n    return this;\n  }\n  /**\n   *\n   * @param data\n   */\n  writeTable(data: any): VhEscposService {\n    this.builder.writeTable(data);\n    return this;\n  }\n  /**\n   *\n   * @param size\n   */\n  setPageSize(size: number = 48): VhEscposService {\n    this.builder.setPageSize(size);\n    return this;\n  }\n\n  writeCustomTable(data: any, options: any = {}): VhEscposService {\n    this.builder.writeCustomTable(data, options);\n    return this;\n  }\n\n  image(image: Image): VhEscposService {\n    this.builder.raster(image);\n    return this;\n  }\n\n\n\n\n  /**\n   * write the current builder value to the driver and clear out the builder\n   */\n  flush() {\n    return this.builder.flush();\n  }\n}\n","import { toPixelData } from 'html-to-image';\r\n\r\nexport class Image {\r\n    public async load(dom: any): Promise<Image> {\r\n        // const stream = await createStreamFromPath(path);\r\n\r\n        return new Promise<Image>(resolve => {\r\n            // stream.pipe(new PNG()).on(\"parsed\", function (this: PNG) {\r\n            //     const pixels = new Array<boolean>(this.width * this.height);\r\n            //     for (let y = 0; y < this.height; y++) {\r\n            //         for (let x = 0; x < this.width; x++) {\r\n            //             // Get index 32bpp\r\n            //             const idx = (this.width * y + x) * 4;\r\n            //             let value = false;\r\n            //             // Anything that is white-ish and has alpha > 128 is colored in, rest is blank.\r\n            //             if (this.data[idx] < 0xE6 || this.data[idx + 1] < 0xE6 || this.data[idx + 2] < 0xE6) {\r\n            //                 value = true;\r\n            //             }\r\n            //             if (value && this.data[idx + 3] <= 0x80) {\r\n            //                 value = false;\r\n            //             }\r\n            //             pixels[this.width * y + x] = value;\r\n            //         }\r\n            //     }\r\n            //     resolve(new Image(pixels, this.width, this.height));\r\n            // });\r\n            toPixelData(dom, { quality: 1, backgroundColor: \"#ffffff\" }).then(function (pixel) {\r\n                const pixels = new Array<boolean>(dom.scrollWidth * dom.scrollHeight);\r\n                for (var y = 0; y < dom.scrollHeight; ++y) {\r\n                    for (var x = 0; x < dom.scrollWidth; ++x) {\r\n                        const idx = (4 * y * dom.scrollHeight) + (4 * x);\r\n                        let value = false;\r\n                        // Anything that is white-ish and has alpha > 128 is colored in, rest is blank.\r\n                        if (this.data[idx] < 0xE6 || this.data[idx + 1] < 0xE6 || this.data[idx + 2] < 0xE6) {\r\n                            value = true;\r\n                        }\r\n                        if (value && this.data[idx + 3] <= 0x80) {\r\n                            value = false;\r\n                        }\r\n                        pixels[this.width * y + x] = value;\r\n                        /* pixelAtXY is a Uint8Array[4] containing RGBA values of the pixel at (x, y) in the range 0..255 */\r\n                    }\r\n                }\r\n                resolve(new Image(pixels, dom.scrollWidth, dom.scrollHeight));\r\n            })\r\n        });\r\n    }\r\n\r\n    public width: number;\r\n    public height: number;\r\n    private data: boolean[];\r\n\r\n    constructor(pixels: boolean[], width: number, height: number) {\r\n        this.data = pixels;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public toRaster(): IRaster {\r\n        const n = Math.ceil(this.width / 8);\r\n        const result = new Uint8Array(this.height * n);\r\n\r\n        for (let y = 0; y < this.height; y++) {\r\n            for (let x = 0; x < this.width; x++) {\r\n                if (this.data[y * this.width + x]) {\r\n                    // tslint:disable-next-line no-bitwise\r\n                    result[y * n + (x >> 3)] += (0x80 >> ((x % 8) & 0x7));\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            data: result,\r\n            height: this.height,\r\n            width: n\r\n        };\r\n    }\r\n}\r\n\r\nexport interface IRaster {\r\n    data: Uint8Array;\r\n    height: number;\r\n    width: number;\r\n}"]}